{"version":3,"file":"static/webpack/static/development/pages/index.js.069310508ca4b6ae9051.hot-update.js","sources":["webpack:///./pages/components/TodoForm.js"],"sourcesContent":["import React, { useState } from 'react'\nimport { useMutation } from '@apollo/react-hooks'\nimport { ADD_TODO, GET_TODOS } from '../../queries'\n\nlet todoInput\n\nconst updateAfterAddMutation = (cache, { data }) => {\n  ;(function(cache, data) {\n    const { todoes } = cache.readQuery({ query: GET_TODOS })\n    cache.writeQuery({\n      query: GET_TODOS,\n      data: { todoes: todoes.concat(data.createTodo) }\n    })\n  })(cache, data)\n}\n\nconst TodoForm = () => {\n  const [todoText, setTodoText] = useState('')\n  const [errorText, setErrorText] = useState('')\n\n  const [createTodo, mutationState] = useMutation(ADD_TODO, {\n    update: updateAfterAddMutation\n  })\n\n  const errorClass = errorText ? 'message error' : 'message'\n\n  const handleKeyPress = () => {\n    if (event.key === 'Enter') {\n      if (!todoText) {\n        setErrorText('No empty values!!')\n        return\n      }\n      createTodo({ variables: { data: { title: todoText } } })\n      setErrorText('')\n      setTodoText('')\n    }\n  }\n\n  return (\n    <div>\n      {errorText && <p className={errorClass}>{errorText}</p>}\n      <input\n        placeholder=\"Enter Notes\"\n        type=\"text\"\n        className=\"input\"\n        value={todoText}\n        onChange={event => setTodoText(event.target.value)}\n        onKeyPress={handleKeyPress}\n      />\n      <div className=\"button\" onClick={() => createTodo({ variables: { data: { title: todoText } } })}>\n        +\n      </div>\n    </div>\n  )\n}\n\nexport default TodoForm\n"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AADA;AAAA;AACA;AAAA;AADA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAFA;AAIA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAKA;AADA;AAJA;AAAA;AAAA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;;;;A","sourceRoot":""}